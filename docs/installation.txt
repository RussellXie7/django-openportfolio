.. include:: globals.inc

Installation
============

This document describes how to get a production-ready version of Open Portfolio running on Apache2 via mod_wsgi.

The procedure has been successfully used on OSX 10.7.2 to install development, staging and production instances on a host server also running Apache2.  Files were hosted in /usr/local/web/django/ with Apache configuration located in /usr/local/web/config/.


Preparing Your System
---------------------

Before installing |project-name|, your system needs the following packages:  

* Python 
* pip
* fabric
* virtualenvwrapper
* Git
* sqlite or mysql
* Apache2 and mod_wsgi 


Preparing OSX
+++++++++++++

1. OS X comes pre-installed with Python.  
2. Install XCode using the App Store.
3. Install easy_install by following instructions at http://pypi.python.org/pypi/setuptools
4. Install pip::
	
	$ easy_install pip

5. Use pip to install remaining dependencies::

	$ pip install virtualenv
	$ pip install virtualenvwrapper
	$ pip install fabric

6. Install `HomeBrew <http://mxcl.github.com/homebrew/>`_

7. Install git

	$ brew install git
	
8. Install mod_wsgi and following the instructions to get mod_wsgi working with Apache

	$ brew install mod_wsgi
	

Installing |project-name|
-------------------------


1. Clone the git repository

	$ git clone git://github.com/evandavey/OpenPortfolio.git openportfolio
	
2. Checkout the stable branch and update the fabtools submodule

	$ git checkout stable
	$ git submodule init
	$ git submodule update
	
3. Modify the environment settings in fabfile.py

4. Modify the Apache config templates in fabtools/install

5. Setup your environment (creates virtual environment, installs dependencies and syncs the database)

	$ fab <environment> setup

6. Modify settings_<environment>.py to match your environment

7. Populate the pricing database

	$ fab <environment> fetch_prices

8. Run the development server or access Open Portfolio using a web browser

 	$ fab <environment> runserver
	

