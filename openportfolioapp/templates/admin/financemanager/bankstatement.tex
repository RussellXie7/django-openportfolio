{% load inventory_extras %}
\documentclass{article}
\usepackage{fancyhdr}
\usepackage{times}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage[a4paper,top=20mm,bottom=20mm,left=20mm,right=20mm]{geometry}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{array}

\begin{document}
\pagestyle{fancy} 
%\ % Clear all header fields 
%\fancyfoot{} % Clear all footer fields
{% if acc_list %}{% for acc in acc_list %}
\lhead{ {{start_date}} to {{end_date}} }
\rhead{Bank Statement}
\chead{\bfseries {{acc.name}} }
\lfoot{}
\cfoot{}
\rfoot{\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
{{acc.name}}
\begin{center}
\setlength{\extrarowheight}{5pt}
\begin{longtable}{p{2.5cm}p{7cm}>{\hfill}p{2cm}>{\hfill}p{2cm}>{\hfill}b{2cm}}
Date & Memo & Debit & Credit & Balance \\
\hline
\endhead

{% if trans_list %}
{% regroup trans_list by date as t_list %}
{% for t_grp in t_list %}{% autoescape off %}

%\multirow{%templatetag openbrace%}{{t_grp.list|length}}{%templatetag closebrace%}{*}{%templatetag openbrace%}{{ t_grp.grouper}}{%templatetag closebrace%} 
{% for trans in t_grp.list %}
{% if forloop.first %}
{{trans.date}}
{%endif%}
& {% filter latex_safe %}{{trans.payee}} {{trans.memo}}{% endfilter%} & {{trans.debit|floatformat:2}} & {{trans.credit|floatformat:2}} 
{% if forloop.last %}

& {\bf{{trans.running_balance|floatformat:2}}{%templatetag closebrace%} \\ 
{% else %}
& \\
{% endif %} 
{% endfor %}

{% endautoescape %}
{% endfor %}
\end{longtable}
\end{center}
\{% else %}No items are available.{% endif %}
{% endfor %}
{% endif %}
\end{document}


